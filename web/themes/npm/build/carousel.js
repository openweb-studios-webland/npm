(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["carousel"],{

/***/ "./web/themes/npm/assets/scripts/modules/carousel.js":
/*!***********************************************************!*\
  !*** ./web/themes/npm/assets/scripts/modules/carousel.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Carousel; });\n/* harmony import */ var _utilities_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/debounce */ \"./web/themes/npm/assets/scripts/utilities/debounce.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar Carousel = function Carousel(el) {\n  var _this = this;\n\n  _classCallCheck(this, Carousel);\n\n  _defineProperty(this, \"init\", function () {\n    _this.itemsWidth = _this.items[0].offsetWidth;\n    _this.itemsOffset = Math.round(_this.el.offsetWidth / _this.itemsWidth);\n    Object.assign(_this.track.style, {\n      width: \"\".concat(_this.itemsWidth * _this.itemsCount, \"px\"),\n      left: \"-\".concat(_this.itemsWidth * _this.index, \"px\")\n    });\n\n    _this.items.forEach(function (item) {\n      item.style.width = \"\".concat(_this.itemsWidth, \"px\");\n    });\n\n    _this.attachEventListeners();\n\n    _this.toggleAttributes();\n\n    if (!_this.config.loop) {\n      _this.toggleTriggerAttributes();\n    }\n  });\n\n  _defineProperty(this, \"reset\", function () {\n    // Remove track and item widths so items width can be re-calculated\n    _this.track.style.width = '';\n\n    _this.items.forEach(function (item) {\n      item.style.width = '';\n    });\n  });\n\n  _defineProperty(this, \"cloneItems\", function () {\n    // Clone X number of ending items\n    for (var i = _this.itemsCount; i > _this.itemsCount - _this.itemsOffset; i--) {\n      _this.track.insertBefore(_this.items[i].cloneNode(true), _this.track.firstElementChild);\n    } // Clone X number of starting items\n\n\n    for (var _i = 0; _i < _this.itemsOffset; _i++) {\n      _this.track.appendChild(_this.items[_i].cloneNode(true));\n    } // Added cloned items to items\n\n\n    _this.items = _toConsumableArray(_this.track.children);\n    _this.index = _this.itemsOffset;\n    _this.itemsCount = _this.items.length - 1; // Set track position and width\n\n    Object.assign(_this.track.style, {\n      width: \"\".concat(_this.itemsWidth * _this.itemsCount, \"px\"),\n      left: \"-\".concat(_this.itemsWidth * _this.index, \"px\")\n    });\n\n    _this.toggleAttributes();\n  });\n\n  _defineProperty(this, \"autoplay\", function () {\n    var toStart = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (toStart) {\n      _this.config.autoplayInterval = setInterval(function () {\n        _this.moveTrack(1);\n      }, _this.config.autoplaySpeed);\n    } else {\n      clearInterval(_this.config.autoplayInterval);\n    }\n  });\n\n  _defineProperty(this, \"moveTrack\", function () {\n    var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var toItem = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var setTransition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    _this.inTransition = _this.config.transition;\n    _this.index = toItem ? toItem : _this.index + direction * _this.config.itemsToMove; // Set track position and transition\n\n    Object.assign(_this.track.style, {\n      transition: _this.config.transition && setTransition ? \"all \".concat(_this.config.transitionSpeed, \"ms ease\") : '',\n      left: \"-\".concat(_this.itemsWidth * _this.index, \"px\")\n    }); // Check if current item is the first or last item\n\n    _this.checkIndex();\n\n    _this.toggleAttributes();\n\n    if (!_this.config.loop) {\n      _this.toggleTriggerAttributes();\n    }\n  });\n\n  _defineProperty(this, \"checkIndex\", function () {\n    var _onTransitionEnd2 = function onTransitionEnd() {\n      _this.track.removeEventListener('transitionend', _onTransitionEnd2, false);\n\n      _this.track.style.transition = '';\n      _this.inTransition = false;\n    };\n\n    var itemsCount = _this.itemsCount - _this.itemsOffset;\n\n    if (_this.config.loop && (_this.index <= 0 || _this.index > itemsCount)) {\n      _this.index = _this.index <= 0 ? itemsCount - _this.itemsOffset + 1 : _this.itemsOffset;\n\n      _onTransitionEnd2 = function _onTransitionEnd() {\n        _this.track.removeEventListener('transitionend', _onTransitionEnd2, false);\n\n        _this.track.style.transition = ''; // Go to first/last item without a transition\n\n        _this.moveTrack(null, _this.index, false);\n\n        _this.inTransition = false;\n      };\n    } // Remove event listener after transition is finished\n\n\n    if (_this.config.transition) {\n      _this.track.addEventListener('transitionend', _onTransitionEnd2, false);\n    }\n  });\n\n  _defineProperty(this, \"toggleAttributes\", function () {\n    for (var i = 0; i < _this.items.length; i++) {\n      var item = _this.items[i];\n      i >= _this.index && i <= _this.index + (_this.itemsOffset - 1) ? item.removeAttribute('aria-hidden') : item.setAttribute('aria-hidden', true);\n    }\n  });\n\n  _defineProperty(this, \"toggleTriggerAttributes\", function () {\n    var attribute = null;\n\n    if (_this.index <= 0) {\n      attribute = 'data-carousel-prev';\n    } else if (_this.index >= _this.itemsCount - _this.itemsOffset + 1) {\n      attribute = 'data-carousel-next';\n    }\n\n    if (_this.triggers.length > 0) {\n      _this.triggers.forEach(function (trigger) {\n        trigger.disabled = attribute && trigger.hasAttribute(attribute) ? true : false;\n      });\n    }\n  });\n\n  _defineProperty(this, \"attachEventListeners\", function () {\n    _this.triggers = _toConsumableArray(_this.el.querySelectorAll(['[data-carousel-controls] a', '[data-carousel-controls] button', '[data-carousel-prev]', '[data-carousel-next]']));\n\n    if (_this.triggers.length > 0) {\n      _this.triggers.forEach(function (trigger) {\n        trigger.addEventListener('click', _this.onClick);\n      });\n    }\n\n    _this.el.addEventListener('keyup', _this.onKeyup);\n\n    window.addEventListener('resize', Object(_utilities_debounce__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function () {\n      _this.reset();\n\n      _this.init();\n    }, 50));\n\n    if (_this.config.autoplay && _this.autoplayPause) {\n      _this.autoplayPause.addEventListener('click', function () {\n        _this.autoplay();\n      });\n    }\n  });\n\n  _defineProperty(this, \"onClick\", function (e) {\n    if (!_this.inTransition) {\n      if (e.currentTarget.hasAttribute('data-carousel-prev')) {\n        if (!_this.config.loop) {\n          if (_this.index > 0) {\n            _this.moveTrack(-1);\n          }\n        } else {\n          _this.moveTrack(-1);\n        }\n      } else if (e.currentTarget.hasAttribute('data-carousel-next')) {\n        if (!_this.config.loop) {\n          if (_this.index < _this.itemsCount - _this.itemsOffset + 1) {\n            _this.moveTrack(1);\n          }\n        } else {\n          _this.moveTrack(1);\n        }\n      } else {\n        _this.moveTrack(null, _this.triggers.indexOf(e.currentTarget) + _this.itemsOffset);\n      } // Stop autoplay on click event\n\n\n      if (_this.config.autoplay) {\n        _this.autoplay();\n      }\n    }\n\n    e.preventDefault();\n  });\n\n  _defineProperty(this, \"onKeyup\", function (e) {\n    if (!_this.inTransition) {\n      if (e.key === 'ArrowLeft' || e.which === 37) {\n        _this.moveTrack(-1);\n      } else if (e.key === 'ArrowRight' || e.which === 39) {\n        _this.moveTrack(1);\n      } // Stop autoplay on keyup event\n\n\n      if (_this.config.autoplay) {\n        _this.autoplay();\n      }\n    }\n  });\n\n  this.el = el;\n  this.track = this.el.querySelector('[data-carousel-track]');\n  this.items = _toConsumableArray(this.track.children);\n  this.autoplayPause = this.el.querySelector('[data-carousel-autoplay-pause]');\n  this.itemsCount = this.items.length - 1;\n  this.itemsOffset = 1;\n  this.index = 0;\n  this.config = {\n    autoplay: this.el.dataset.carouselAutoplay === 'true' ? true : false,\n    // data-carousel-autoplay\n    autoplaySpeed: this.el.dataset.carouselAutoplaySpeed || 6000,\n    // data-carousel-autoplay-speed\n    itemsToMove: this.el.dataset.carouselMove || 1,\n    // data-carousel-move\n    loop: this.el.dataset.carouselLoop === 'false' ? false : true,\n    // data-carousel-loop\n    transition: this.el.dataset.carouselTransition === 'false' ? false : true,\n    // data-carousel-transition\n    transitionSpeed: this.el.dataset.carouselTransitionSpeed || 500 // data-carousel-transition-speed\n\n  }; // Initialize if carousel contians more than 1 item\n\n  if (this.itemsCount > 0) {\n    this.init(); // Clone starting/ending items if loop is set to true (true by default)\n\n    if (this.config.loop) {\n      this.cloneItems(); // Autoplay if loop is set to true (false by default)\n\n      if (this.config.autoplay) {\n        this.autoplay(true);\n      }\n    }\n  }\n};\n\n\n\n//# sourceURL=webpack:///./web/themes/npm/assets/scripts/modules/carousel.js?");

/***/ }),

/***/ "./web/themes/npm/assets/scripts/utilities/debounce.js":
/*!*************************************************************!*\
  !*** ./web/themes/npm/assets/scripts/utilities/debounce.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (callback, wait) {\n  var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var timeout = null;\n  return function () {\n    var _this = this,\n        _arguments = arguments;\n\n    var now = immediate && !timeout;\n\n    var result = function result() {\n      return callback.apply(_this, _arguments);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(result, wait);\n\n    if (now) {\n      result();\n    }\n  };\n});\n\n//# sourceURL=webpack:///./web/themes/npm/assets/scripts/utilities/debounce.js?");

/***/ })

}]);