(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["infinite-scroll"],{

/***/ "./web/themes/npm/assets/scripts/modules/audio.js":
/*!********************************************************!*\
  !*** ./web/themes/npm/assets/scripts/modules/audio.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Audio; });\n/* harmony import */ var _utilities_active_media__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/active-media */ \"./web/themes/npm/assets/scripts/utilities/active-media.js\");\n/* harmony import */ var _utilities_active_media__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_utilities_active_media__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar WaveSurfer = __webpack_require__(/*! wavesurfer.js/dist/wavesurfer */ \"./node_modules/wavesurfer.js/dist/wavesurfer.js\"); // @TODO Update WaveSurfer once import issue is resoloved 3.1.1+\n// import WaveSurfer from 'wavesurfer.js'\n\n\nvar Audio = function Audio(el) {\n  var _this = this;\n\n  _classCallCheck(this, Audio);\n\n  _defineProperty(this, \"init\", function () {\n    // Create Wavesurfer object\n    _this.waveSurfer = WaveSurfer.create({\n      barGap: _this.config.barGap,\n      barWidth: _this.config.barWidth,\n      barHeight: _this.config.barHeight,\n      container: _this.player,\n      cursorColor: _this.config.cursorColor,\n      cursorWidth: _this.config.cursorWidth,\n      progressColor: _this.config.progressColor,\n      skipLength: _this.config.skipLength,\n      waveColor: _this.config.waveColor\n    });\n\n    if (_this.config.audioSource) {\n      _this.waveSurfer.load(_this.config.audioSource);\n\n      _this.waveSurfer.on('ready', function () {\n        _this.duration = _this.formatTimestamp(_this.waveSurfer.getDuration());\n        _this.progress.innerHTML = \"00:00 / \".concat(_this.duration);\n\n        _this.attachEventListeners();\n      });\n    }\n  });\n\n  _defineProperty(this, \"formatTimestamp\", function (seconds) {\n    seconds = Math.floor(seconds);\n    var minutes = Math.floor(seconds / 60);\n    seconds = seconds - minutes * 60;\n    minutes = _this.formatTimeUnits(minutes);\n    seconds = _this.formatTimeUnits(seconds);\n    return \"\".concat(minutes, \":\").concat(seconds);\n  });\n\n  _defineProperty(this, \"formatTimeUnits\", function (unit) {\n    return unit < 10 ? \"0\".concat(unit) : unit;\n  });\n\n  _defineProperty(this, \"attachEventListeners\", function () {\n    if (_this.playPauseTriggers.length > 0) {\n      _this.playPauseTriggers.forEach(function (playPauseTrigger) {\n        playPauseTrigger.addEventListener('click', _this.onPlayPause);\n      });\n    }\n\n    _this.skipBackwardTrigger.addEventListener('click', _this.onSkipBackward);\n\n    _this.waveSurfer.on('audioprocess', _this.onAudioProgress);\n\n    _this.waveSurfer.on('play', _this.onPlay);\n\n    _this.waveSurfer.on('pause', _this.onPause);\n  });\n\n  _defineProperty(this, \"onAudioProgress\", function (seconds) {\n    _this.progress.innerHTML = \"\".concat(_this.formatTimestamp(seconds), \" / \").concat(_this.duration);\n  });\n\n  _defineProperty(this, \"onPlayPause\", function () {\n    var windowActiveMedia = _utilities_active_media__WEBPACK_IMPORTED_MODULE_0___default.a.get();\n\n    if (typeof windowActiveMedia !== 'undefined') {\n      if (windowActiveMedia.el === _this.waveSurfer) {\n        _this.waveSurfer.playPause();\n      } else {\n        _utilities_active_media__WEBPACK_IMPORTED_MODULE_0___default.a.stop();\n\n        _this.waveSurfer.play();\n      }\n    } else {\n      _this.waveSurfer.play();\n    }\n  });\n\n  _defineProperty(this, \"onPlay\", function () {\n    _this.el.classList.add('active');\n\n    _this.el.classList.add('playing');\n\n    _utilities_active_media__WEBPACK_IMPORTED_MODULE_0___default.a.set('audio', _this.waveSurfer);\n\n    _this.pushToDataLayer();\n  });\n\n  _defineProperty(this, \"onPause\", function () {\n    _this.el.classList.remove('playing');\n  });\n\n  _defineProperty(this, \"onSkipBackward\", function (e) {\n    _this.waveSurfer.skipBackward();\n\n    e.preventDefault();\n  });\n\n  _defineProperty(this, \"pushToDataLayer\", function () {\n    window.dataLayer = window.dataLayer || [];\n    dataLayer.push({\n      event: 'dataLayer push event',\n      event_category: 'Audio',\n      event_action: _this.el.dataset.audioTitle || 'Unknown Title',\n      event_label: 'Play'\n    });\n  });\n\n  this.el = el;\n  this.player = this.el.querySelector('[data-audio-player]');\n  this.progress = this.el.querySelector('[data-audio-progress]');\n  this.playPauseTriggers = this.el.querySelectorAll('[data-audio-play-pause]');\n  this.skipBackwardTrigger = this.el.querySelector('[data-audio-skip-backward]');\n  this.active = false;\n  this.config = {\n    audioSource: this.player.dataset.audioSource || null,\n    barGap: 1,\n    // Pixels\n    barWidth: 2,\n    // Pixels\n    barHeight: 0.75,\n    // Relational (default is 1)\n    cursorColor: '#161616',\n    cursorWidth: 2,\n    // Pixels\n    progressColor: '#dadada',\n    skipLength: 10,\n    // Seconds\n    waveColor: '#35beff'\n  };\n  this.init();\n};\n\n\n\n//# sourceURL=webpack:///./web/themes/npm/assets/scripts/modules/audio.js?");

/***/ }),

/***/ "./web/themes/npm/assets/scripts/modules/infinite-scroll.js":
/*!******************************************************************!*\
  !*** ./web/themes/npm/assets/scripts/modules/infinite-scroll.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return InfiniteScroll; });\n/* harmony import */ var _audio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./audio */ \"./web/themes/npm/assets/scripts/modules/audio.js\");\n/* harmony import */ var _video__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./video */ \"./web/themes/npm/assets/scripts/modules/video.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nvar InfiniteScroll = function InfiniteScroll(_el) {\n  var _this = this;\n\n  _classCallCheck(this, InfiniteScroll);\n\n  _defineProperty(this, \"attachEventListeners\", function () {\n    _this.trigger.addEventListener('click', _this.onClick);\n  });\n\n  _defineProperty(this, \"onClick\", function (e) {\n    e.preventDefault();\n\n    _this.xhrRequest(_this.trigger.getAttribute('href'));\n  });\n\n  _defineProperty(this, \"initModules\", function (el, selector, Module) {\n    var modules = el.querySelectorAll(selector);\n    modules.forEach(function (module) {\n      new Module.default(module);\n    });\n  });\n\n  _defineProperty(this, \"xhrRequest\", function (url) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, false);\n    xhr.send(null);\n    var parser = new DOMParser();\n    var document = parser.parseFromString(xhr.responseText, 'text/html');\n    var items = document.querySelectorAll('body > div');\n    items.forEach(function (item) {\n      _this.container.appendChild(item);\n\n      _this.initModules(item, '[data-module=\"video\"]', _video__WEBPACK_IMPORTED_MODULE_1__);\n\n      _this.initModules(item, '[data-module=\"audio\"]', _audio__WEBPACK_IMPORTED_MODULE_0__);\n    });\n\n    _this.paginate(url);\n  });\n\n  _defineProperty(this, \"paginate\", function (url) {\n    if (_this.index < _this.itemsCount) {\n      url = url.replace(\"/\".concat(_this.index.toString(), \"/\"), \"/\".concat((_this.index + 1).toString(), \"/\"));\n\n      _this.trigger.setAttribute('href', url);\n\n      _this.index++;\n    } else {\n      _this.trigger.remove();\n    }\n  });\n\n  this.el = _el;\n  this.container = this.el.querySelector('[data-infinite-scroll-container]');\n  this.trigger = this.el.querySelector('[data-infinite-scroll-trigger]');\n  this.itemsCount = this.el.dataset.infiniteScrollCount || 1;\n  this.index = 2;\n\n  if (this.itemsCount > 1) {\n    this.attachEventListeners();\n  }\n};\n\n\n\n//# sourceURL=webpack:///./web/themes/npm/assets/scripts/modules/infinite-scroll.js?");

/***/ }),

/***/ "./web/themes/npm/assets/scripts/modules/video.js":
/*!********************************************************!*\
  !*** ./web/themes/npm/assets/scripts/modules/video.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Video; });\n/* harmony import */ var _utilities_active_media__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/active-media */ \"./web/themes/npm/assets/scripts/utilities/active-media.js\");\n/* harmony import */ var _utilities_active_media__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_utilities_active_media__WEBPACK_IMPORTED_MODULE_0__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar Video = function Video(el) {\n  var _this = this;\n\n  _classCallCheck(this, Video);\n\n  _defineProperty(this, \"attachEventListeners\", function () {\n    _this.trigger.addEventListener('click', _this.onPlay);\n  });\n\n  _defineProperty(this, \"onPlay\", function (e) {\n    if (!_this.el.classList.contains('active')) {\n      _this.el.classList.add('active');\n    }\n\n    _utilities_active_media__WEBPACK_IMPORTED_MODULE_0___default.a.stop();\n    _utilities_active_media__WEBPACK_IMPORTED_MODULE_0___default.a.set('video', _this.iframe);\n    _utilities_active_media__WEBPACK_IMPORTED_MODULE_0___default.a.play();\n    e.preventDefault();\n  });\n\n  this.el = el;\n  this.iframe = this.el.querySelector('iframe');\n  this.trigger = this.el.querySelector('[data-video-play]');\n\n  if (this.trigger) {\n    this.attachEventListeners();\n  }\n};\n\n\n\n//# sourceURL=webpack:///./web/themes/npm/assets/scripts/modules/video.js?");

/***/ }),

/***/ "./web/themes/npm/assets/scripts/utilities/active-media.js":
/*!*****************************************************************!*\
  !*** ./web/themes/npm/assets/scripts/utilities/active-media.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = {\n  set: function set(type, el) {\n    window.activeMedia = {\n      type: type,\n      el: el\n    };\n  },\n  get: function get() {\n    return window.activeMedia;\n  },\n  play: function play() {\n    if (typeof window.activeMedia !== 'undefined') {\n      switch (window.activeMedia.type) {\n        case 'audio':\n          window.activeMedia.el.play();\n          break;\n\n        case 'video':\n          if (window.activeMedia.el.src.includes('autoplay=0')) {\n            window.activeMedia.el.src = window.activeMedia.el.src.replace('autoplay=0', 'autoplay=1');\n          } else {\n            window.activeMedia.el.src += window.activeMedia.el.src.includes('?') ? '&autoplay=1' : '?autoplay=1';\n          }\n\n          break;\n      }\n    }\n  },\n  pause: function pause() {\n    if (typeof window.activeMedia !== 'undefined') {\n      window.activeMedia.el.pause();\n    }\n  },\n  stop: function stop() {\n    if (typeof window.activeMedia !== 'undefined') {\n      switch (window.activeMedia.type) {\n        case 'audio':\n          window.activeMedia.el.stop();\n          break;\n\n        case 'video':\n          window.activeMedia.el.src = window.activeMedia.el.src.replace('autoplay=1', 'autoplay=0');\n          break;\n      }\n    }\n  }\n};\n\n//# sourceURL=webpack:///./web/themes/npm/assets/scripts/utilities/active-media.js?");

/***/ })

}]);