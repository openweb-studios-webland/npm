(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{127:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var o=n(325),i=n.n(o);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"openModal",(function(){n.active=document.activeElement,i.a.toggle(n.active,n.el),n.setFocusToFirstElements(),n.scrollLock(),n.attachOpenEventListeners(),n.audio&&n.playPauseAudio(),n.video&&n.playVideo()})),r(this,"closeModal",(function(){if(i.a.toggle(n.active,n.el),n.scrollLock(!1),n.detachOpenEventListeners(),n.audio&&n.audio.classList.contains("playing")&&n.playPauseAudio(),n.video&&n.stopVideo(),n.active&&n.active.focus(),n.hasTransition){n.el.addEventListener("transitionend",(function e(){n.el.classList.remove("open"),n.el.removeEventListener("transitionend",e,!1)}),!1)}else n.el.classList.remove("open")})),r(this,"scrollLock",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.querySelector("body"),n=document.querySelector('[data-module="header"]');e?(t.classList.add("locked"),t.style.paddingTop="".concat(n.offsetHeight,"px")):(t.classList.remove("locked"),t.style.paddingTop="")})),r(this,"trapFocus",(function(e){if(n.el.contains(document.activeElement)){var t=focusableElements.indexOf(document.activeElement);e.shiftKey&&0===t&&(n.setFocusToLastElement(),e.preventDefault()),e.shiftKey||t!==focusableElements.length-1||(n.setFocusToFirstElements(),e.preventDefault())}else n.setFocusToFirstElements()})),r(this,"setFocusToFirstElements",(function(){var e=n.getFocusableElements(n.el);e.length>0&&e[0].focus()})),r(this,"setFocusToLastElement",(function(){var e=n.getFocusableElements(n.el);e.length>0&&e[e.length-1].focus()})),r(this,"attachEventListeners",(function(){var e=a(document.querySelectorAll('[aria-controls="'.concat(n.el.id,'"]')));e.length>0&&e.forEach((function(e){e.addEventListener("click",n.openModal)}))})),r(this,"attachOpenEventListeners",(function(){n.el.addEventListener("click",n.onClick),document.addEventListener("keyup",n.onKeyup)})),r(this,"detachOpenEventListeners",(function(){n.el.removeEventListener("click",n.onClick),document.removeEventListener("keyup",n.onKeyup)})),r(this,"onClick",(function(e){e.target.hasAttribute("data-modal-close")&&e.target.closest('[data-module="modal"]')===n.el&&(n.closeModal(),e.preventDefault())})),r(this,"onKeyup",(function(e){"Escape"!==e.key&&27!==e.keyCode||n.closeModal(),"Tab"!==e.key&&9!==e.keyCode||n.trapFocus(e)})),r(this,"getAudio",(function(){return n.el.querySelector('[data-module="audio"]')})),r(this,"playPauseAudio",(function(){n.audio.querySelector("[data-audio-play-pause]").click()})),r(this,"getVideo",(function(){var e=n.el.querySelector("iframe");return e&&(e.src.includes("youtube")||e.src.includes("vimeo"))?e:null})),r(this,"playVideo",(function(){n.video.src+=n.video.src.includes("?")?"&autoplay=1":"?autoplay=1"})),r(this,"stopVideo",(function(){n.video.src=n.video.src.replace("autoplay=1","autoplay=0")})),this.el=t,this.audio=this.getAudio(),this.video=this.getVideo(),this.hasTransition=!1,this.attachEventListeners()}var t,n,o;return t=e,(n=[{key:"getFocusableElements",value:function(e){return a(e.querySelectorAll(["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])']))}}])&&s(t.prototype,n),o&&s(t,o),e}()},325:function(e,t){e.exports={toggle:function(e,t){var n=!t.hasAttribute("aria-hidden");e.setAttribute("aria-expanded",!n),n?t.setAttribute("aria-hidden",!0):(t.removeAttribute("aria-hidden"),t.focus())}}}}]);