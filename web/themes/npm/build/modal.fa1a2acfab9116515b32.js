(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{126:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(325),a=n.n(i),o=n(326),r=n.n(o);function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"openModal",(function(){n.active=document.activeElement,r.a.toggle(n.active,n.el),n.setFocusToFirstElements(),n.scrollLock(),n.attachOpenEventListeners(),(n.audioPlayer||n.videoPlayer)&&a.a.stop(),n.audioPlayer&&n.audioPlayer.click(),n.videoPlayer&&(a.a.set("video",n.videoPlayer),a.a.play())})),l(this,"closeModal",(function(){if(r.a.toggle(n.active,n.el),n.scrollLock(!1),n.detachOpenEventListeners(),(n.audioPlayer||n.videoPlayer)&&a.a.stop(),n.active&&n.active.focus(),n.hasTransition){n.el.addEventListener("transitionend",(function e(){n.el.classList.remove("open"),n.el.removeEventListener("transitionend",e,!1)}),!1)}else n.el.classList.remove("open")})),l(this,"scrollLock",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.querySelector("body");e?(t.classList.add("locked"),t.style.paddingTop="".concat(n.getHeight(document.querySelector('[data-module="header"]')),"px")):(t.classList.remove("locked"),t.style.paddingTop="")})),l(this,"getHeight",(function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop)+parseInt(n.marginBottom)})),l(this,"trapFocus",(function(e){if(n.el.contains(document.activeElement)){var t=focusableElements.indexOf(document.activeElement);e.shiftKey&&0===t&&(n.setFocusToLastElement(),e.preventDefault()),e.shiftKey||t!==focusableElements.length-1||(n.setFocusToFirstElements(),e.preventDefault())}else n.setFocusToFirstElements()})),l(this,"setFocusToFirstElements",(function(){var e=n.getFocusableElements(n.el);e.length>0&&e[0].focus()})),l(this,"setFocusToLastElement",(function(){var e=n.getFocusableElements(n.el);e.length>0&&e[e.length-1].focus()})),l(this,"attachEventListeners",(function(){var e=c(document.querySelectorAll('[aria-controls="'.concat(n.el.id,'"]')));e.length>0&&e.forEach((function(e){e.addEventListener("click",n.openModal)}))})),l(this,"attachOpenEventListeners",(function(){n.el.addEventListener("click",n.onClick),document.addEventListener("keyup",n.onKeyup)})),l(this,"detachOpenEventListeners",(function(){n.el.removeEventListener("click",n.onClick),document.removeEventListener("keyup",n.onKeyup)})),l(this,"onClick",(function(e){e.target.hasAttribute("data-modal-close")&&e.target.closest('[data-module="modal"]')===n.el&&(n.closeModal(),e.preventDefault())})),l(this,"onKeyup",(function(e){"Escape"!==e.key&&27!==e.keyCode||n.closeModal(),"Tab"!==e.key&&9!==e.keyCode||n.trapFocus(e)})),l(this,"getAudioPlayer",(function(){return n.el.querySelector('[data-module="audio"] [data-audio-play-pause]')})),l(this,"getVideoPayer",(function(){var e=n.el.querySelector("iframe");return e&&(e.src.includes("youtube")||e.src.includes("vimeo"))?e:null})),this.el=t,this.audioPlayer=this.getAudioPlayer(),this.videoPlayer=this.getVideoPayer(),this.hasTransition=!1,this.attachEventListeners()}var t,n,i;return t=e,(n=[{key:"getFocusableElements",value:function(e){return c(e.querySelectorAll(["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])']))}}])&&s(t.prototype,n),i&&s(t,i),e}()},325:function(e,t){e.exports={set:function(e,t){window.activeMedia={type:e,el:t}},get:function(){return window.activeMedia},play:function(){if(void 0!==window.activeMedia)switch(window.activeMedia.type){case"audio":window.activeMedia.el.play();break;case"video":window.activeMedia.el.src.includes("autoplay=0")?window.activeMedia.el.src=window.activeMedia.el.src.replace("autoplay=0","autoplay=1"):window.activeMedia.el.src+=window.activeMedia.el.src.includes("?")?"&autoplay=1":"?autoplay=1"}},pause:function(){void 0!==window.activeMedia&&window.activeMedia.el.pause()},stop:function(){if(void 0!==window.activeMedia)switch(window.activeMedia.type){case"audio":window.activeMedia.el.stop();break;case"video":window.activeMedia.el.src=window.activeMedia.el.src.replace("autoplay=1","autoplay=0")}}}},326:function(e,t){e.exports={toggle:function(e,t){var n=!t.hasAttribute("aria-hidden");e.setAttribute("aria-expanded",!n),n?t.setAttribute("aria-hidden",!0):(t.removeAttribute("aria-hidden"),t.focus())}}}}]);