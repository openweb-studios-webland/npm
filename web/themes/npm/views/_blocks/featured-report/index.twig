{% set block = block ?? null %}

{% if block %}
  {% set report = Post(block.featured_report) %}

  <section class="section bg-blue pb-0 text-white lg:pb-100" data-label="featured-report">
    <div class="container">
      <div class="flex flex-wrap items-center -mb-50 -mx-30 lg:flex-no-wrap lg:flex-row-reverse">
        <div class="mb-50 px-30 w-full lg:w-1/2">
          <h2 class="heading-3">
            {{ report.title }}
          </h2>

          {% if report.text %}
            <div class="text text-16 lg:text-18">
              {{ report.text }}
            </div>
          {% endif %}

          {% set button_link =  report.button_link | length ? report.button_link : report.link %}
          {% set button_text =  report.button_text | length ? report.button_text : 'Read more' %}

          <a
            class="button-outline-white mt-25 lg:mt-30"
            href="{{ button_link }}"
            data-track-gtm="Call to Action|{{ current_url }}|{{ button_text }}:{{ button_link }}"
          >
            {{ button_text }}
          </a>
        </div>

        <div class="mb-50 px-30 w-full lg:w-1/2">
          {% if report.type == 'video' %}
            {% set video = report.get_field('video') ?? null %}

            {% include '_partials/video/index.twig' ignore missing with {
              video: video,
              image: report.image,
            } only %}
          {% else %}
            {% set image = TimberImage(report.featured_image) %}

            {% if image.src %}
              <img
                class="lg:shadow"
                src="{{ image.src | resize(1080, 810, 'center') }}"
                alt="{{ image.alt }}"
              />
            {% endif %}
          {% endif %}
        </div>
      </div>
    </div>
  </section>
{% endif %}
