{% set block = block ?? null %}

{% if block %}
  <section class="{{ block.color_select != 'white' and block.color_select != 'gray' ? 'text-white ' }}bg-{{ block.color_select }} section" data-label="stats">
    <div class="container">
      {% if block.image %}
        <div class="flex flex-wrap -mx-30">
          <div class="px-30 w-full lg:w-2/3">
            {% if block.heading %}
              <h2 class="heading-3">{{ block.heading }}</h2>
            {% endif %}

            {% if block.stats | length %}
              <div class="flex flex-wrap -mb-40 -mx-30">
                {% for stat in block.stats %}
                  <div class="mb-40 px-30 md:w-1/2">
                    {% include '_blocks/stats/stat.twig' ignore missing %}
                  </div>
                {% endfor %}
              </div>
            {% endif %}

            {% if block.attribution %}
              <p class="text mt-20 text-gray-a11y text-11 md:mt-25 lg:mt-30">{{ block.attribution }}</p>
            {% endif %}
          </div>
          <div class="hidden px-30 w-full lg:block lg:w-1/3">
            {% set image = TimberImage(block.image) %}

            {% if image %}
              <img src="{{ image.src | resize(1440, 900) }}" alt="{{ image.alt }}" />
            {% endif %}
          </div>
        </div>
      {% elseif block.text %}
        <div class="flex flex-wrap -mx-30">
          <div class="mb-30 px-30 w-full lg:mb-0 lg:w-1/3">
            {% if block.heading %}
              <h2 class="heading-4">
                {{ block.heading }}
              </h2>
            {% endif %}

            {% if block.text %}
              <div class="text">{{ block.text }}</div>
            {% endif %}

            {% if block.button_link and block.button_text %}
              <a class="link" href="{{ block.button_link }}">
                {{ block.button_text }} {{ svg('link') }}
              </a>
            {% endif %}
          </div>
          <div class="px-30 w-full lg:w-2/3">
            {% if block.stats | length %}
              <div class="flex flex-wrap -mb-40 -mx-30">
                {% for stat in block.stats %}
                  <div class="mb-40 px-30 md:w-1/2">
                    {% include '_blocks/stats/stat.twig' ignore missing %}
                  </div>
                {% endfor %}
              </div>
            {% endif %}

            {% if block.attribution %}
              <p class="text mt-20 text-gray-a11y text-11 md:mt-25 lg:mt-30">
                {{ block.attribution }}
              </p>
            {% endif %}
          </div>
        </div>
      {% else %}
        {% if block.heading %}
          <h2 class="heading-6">
            {{ block.heading }}
          </h2>
        {% endif %}

        {% if block.stats | length %}
          <div class="flex flex-wrap -mb-30 -mx-30 lg:-mb-40">
            {% for stat in block.stats %}
              <div class="mb-30 px-30 lg:mb-40 md:w-1/2 lg:w-1/3">
                {% include '_blocks/stats/stat.twig' ignore missing %}
              </div>
            {% endfor %}
          </div>
        {% endif %}

        {% if block.attribution %}
          <p class="text mt-20 text-gray-a11y text-11 md:mt-25 lg:mt-30">
            {{ block.attribution }}
          </p>
        {% endif %}
      {% endif %}
    </div>
  </section>
{% endif %}
